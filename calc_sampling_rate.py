"""
计算基分类器的采样率

IR = 3, n = 15
r_P：[33.332049703463596, 33.330766073593864, 33.3281988138544, 33.32306429437546, 33.31279525541759, 33.29225717750185, 33.251181021670384, 33.16902871000743, 33.00472408668153, 32.67611484002973, 32.01889634672613, 30.704459360118925, 28.07558538690452, 22.817837440475707, 12.302341547618086]
r_N：[33.338153219088596, 33.342973104843864, 33.3526128763544, 33.37189241937546, 33.41045150541759, 33.48756967750185, 33.641806021670384, 33.95027871000743, 34.56722408668153, 35.80111484002973, 38.26889634672613, 43.204459360118925, 53.07558538690452, 72.81783744047571, 112.30234154761808]

IR = 10
[9.999816265871788, 9.999632531743574, 9.99926506348715, 9.998530126974298, 9.997060253948595, 9.99412050789719, 9.988241015794376, 9.976482031588752, 9.952964063177504, 9.905928126355008, 9.811856252710012, 9.623712505420023, 9.247425010840047, 8.494850021680096, 6.989700043360189]
[10.005919781496788, 10.011839562993574, 10.02367912598715, 10.047358251974298, 10.094716503948595, 10.18943300789719, 10.378866015794376, 10.757732031588752, 11.515464063177504, 13.030928126355008, 16.06185625271001, 22.123712505420023, 34.24742501084005, 58.49485002168009, 106.98970004336019]

IR = 15
[6.666562517079748, 6.66645836749283, 6.666250068318995, 6.6658334699713215, 6.665000273275979, 6.663333879885289, 6.660001093103911, 6.653335519541155, 6.6400043724156435, 6.613342078164622, 6.560017489662577, 6.453368312658488, 6.240069958650308, 5.813473250633948, 4.960279834601231]
[6.672666032704748, 6.67866539874283, 6.690664130818995, 6.7146615949713215, 6.762656523275979, 6.858646379885289, 7.050626093103911, 7.434585519541155, 8.202504372415644, 9.738342078164623, 12.81001748966258, 18.953368312658487, 31.240069958650306, 55.81347325063395, 104.96027983460124]

IR = 25
[3.9999474271779696, 3.999894854355939, 3.9997897087118783, 3.9995794174237562, 3.9991588348475133, 3.9983176696950258, 3.996635339390052, 3.993270678780103, 3.9865413575602067, 3.973082715120413, 3.9461654302408258, 3.892330860481652, 3.784661720963303, 3.569323441926607, 3.138646883853214]
[4.00605094280297, 4.012101885605939, 4.024203771211878, 4.048407542423757, 4.096815084847513, 4.193630169695026, 4.3872603393900516, 4.774520678780103, 5.549041357560207, 7.0980827151204124, 10.196165430240825, 16.392330860481653, 28.7846617209633, 53.569323441926606, 103.13864688385321]

IR = 40
[2.4999713284569234, 2.4999426569138463, 2.499885313827692, 2.4997706276553844, 2.4995412553107688, 2.499082510621538, 2.498165021243075, 2.4963300424861505, 2.4926600849723006, 2.485320169944601, 2.470640339889202, 2.4412806797784037, 2.382561359556808, 2.2651227191136156, 2.0302454382272312]
[2.5060748440819234, 2.5121496881638463, 2.524299376327692, 2.5485987526553844, 2.5971975053107688, 2.694395010621538, 2.888790021243075, 3.27758004248615, 4.055160084972301, 5.6103201699446, 8.720640339889203, 14.941280679778405, 27.382561359556806, 52.26512271911361, 102.03024543822723]

IR = 60
[1.6666494452100018, 1.6666322237533369, 1.6665977808400072, 1.6665288950133472, 1.6663911233600281, 1.6661155800533893, 1.665564493440112, 1.6644623202135576, 1.6622579737604484, 1.6578492808542302, 1.6490318950417935, 1.6313971234169204, 1.5961275801671744, 1.5255884936676822, 1.3845103206686975]
[1.6727529608350018, 1.6788392550033369, 1.6910118433400072, 1.7153570200133472, 1.7640473733600281, 1.8614280800533893, 2.056189493440112, 2.4457123202135578, 3.224757973760448, 4.78284928085423, 7.899031895041794, 14.131397123416923, 26.596127580167177, 51.525588493667684, 101.38451032066871]
"""

import math

IR = 60
n = 15
delta_P = 1/(IR*math.log(IR, 2))
print("delta_P:%.2f%%" % (delta_P*100))
delta_N = abs(1/(IR*math.log(IR, 2)) - 1)
print("delta_N:%.2f%%" % (delta_N*100))
r_P = []
r_N = []
for i in range(1, n+1):
    r_i_p = 1/IR - ((2**(i-n))*delta_P)
    r_P.append(r_i_p*100)
    r_i_n = 1/IR + ((2**(i-n))*delta_N)
    r_N.append(r_i_n*100)

print("IR:", IR)
print("r_P:")
for r in r_P:
    print("%.2f%%" % r, end="\t")
print()
for r in r_N:
    print("%.2f%%" % r, end="\t")
print()

print(r_P)
print(r_N)